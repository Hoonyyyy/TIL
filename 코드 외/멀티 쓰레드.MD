# 멀티 쓰레드

## 프로세스
- 실행 중인 프로그램, 자원(resources)과 쓰레드로 구성

## 쓰레드
- 프로세스 내에서 실제 작업을 수행, 모든 프로세스는 최소한 하나의 쓰레드를 가지고 있다.

### 프로세스는 공장, 쓰레드는 일꾼이라 단순하게 생각할 수 있다.
- 공장 한 곳에 일꾼이 1명 = 싱글 쓰레드 프로세스
- 공장 한 곳에 리꾼이 3명 혹은 여러명 = 멀티 쓰레드 프로세스

### 프로세스를 생성하는 것보다 하나의 새로우 쓰레드를 생성하는게 나은 이유
- 공장을 늘리고 그곳에 일꾼 1명씩 두는것보다
- 공장은 그대로 있고 일꾼을 늘리는게 더 적은 비용이 드는게 당연함

### CGI
- 공장 하나당 일꾼 한명씩 두는것

### JavaServlet
- 멀티쓰레드를 지원하기에 공장 새로 지을 필요 없이 쓰레드 1개만 추가하면 됨
- 효율적임

## 멀티쓰레드 장단점

### 장점
- 시스템 자원을 보다 효율적 사용
- 작업이 분리되어 코드가 간결해짐
- 응답성이 향상됨

### 단점
- 동기화 주의해야함
- 교착상태 빠질 수 있음
- 각 쓰레드 효율적으로 고르게 실행되게 하려면 관리할게 많다.
- 고려사항 많다!!


## 멀티 프로세스
- fork를 통해 프로세스를 복사할 수 있는데, 부모-자식 관계라고 해도 환경변수와 프로세스 핸들 테이블이 상속 가능할 뿐,
- 자신만의 메모리 영역 가짐
- 프로세스 간 통신을 하려면 IPC(Inter Process Communication)를 통해야함
<img src="https://t1.daumcdn.net/cfile/tistory/230A334B5822F74D08">

- 단일 프로세스의 컨텍스트 내에서 여러 스레드를 동시에 실행하는 곳
- 한 프로세스 내의 스레드들은 Code, Data, Heap 영역을 공유함
<img src="https://t1.daumcdn.net/cfile/tistory/217D00505822F78905">



https://eun-jeong.tistory.com/20
https://mgyo.tistory.com/456
