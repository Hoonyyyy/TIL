# 직렬화
- 자바 직렬화란 자바 시스템 내부에서 사용되는 객체 또는 데이터를 외부의 자바 시스템에서도 사용할 수 있도록 바이트(byte)
- 형태로 데이터 변환하는 기술과 바이트로 변환된 데이터를 다시 객체로 변환하는 기술(역직렬화)을 아울러서 말함
- 시스템적으로 이야기하자면 JVM(Java Virtual Mchine 이하 JVM)의 메모리에 상주(힙 또는 스택)되어 있는 객체 데이터를
- 바이트 형태로 변환하는 기술과 직렬화된 바이트 형태의 데이터를 객체로 변환해서 JVM으로 상주시키는 형태를 같이 말함

## How?
- 자바 직렬화 조건
  - 자바 기본(primitive)타입과 java.io.Serializable 인터페이스를 상속받은 객체는 직렬화 할 수 있는 기본 조건을 가진다.

```java
public class serialPrac implements Serializable {
    private String name;
    private String email;
    private int age;

    public serialPrac(String name, String email, int age){
        this.name = name;
        this.email = email;
        this.age = age;
    }

    // get,set 생략

    @Override
    public String toString(){
        return String.format("serialPrac",name,email,age);
    }
}
```

### 직렬화 방법
- java.io.ObjectOutputStream을 이용함
``` java
public class serialPrac implements Serializable {
    private String name;
    private String email;
    private int age;

    public serialPrac(String name, String email, int age){
        this.name = name;
        this.email = email;
        this.age = age;
    }

    // get,set 생략

    @Override
    public String toString(){
        return String.format("serialPrac",name,email,age);
    }

    public static void main(String[] args) {

        serialPrac serial = new serialPrac("킴킴킴","abc@test.com",20);
        byte[] serialPrac;
        try(ByteArrayOutputStream baos = new ByteArrayOutputStream()) {
            try(ObjectOutputStream oos = new ObjectOutputStream(baos)){
                oos.writeObject(serial);
                // serializedPrac -> 직렬화된 Prac 객체
                serialPrac = baos.toByteArray();
            }
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
        // 바이트 배열로 생성된 직렬화 데이터를 base64로 변환
        System.out.println(Base64.getEncoder().encodeToString(serialPrac));
    }

}

// 결과값
// rO0ABXNyACBjb20uZXhhbXBsZS50ZXN0LnByYWMuc2VyaWFsUHJhY74hVdbfhx86AgADSQADYWdlTAAFZ
//  W1haWx0ABJMamF2YS9sYW5nL1N0cmluZztMAARuYW1lcQB+AAF4cAAAABR0AAxhYmNAdGVzdC5jb210AAntgrTtgrTtgrQ=

```


출처 : https://techblog.woowahan.com/2550/
